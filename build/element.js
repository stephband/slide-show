/* slide-show 
   1.2.5
   By Stephen Band */

var He=Object.defineProperty;var W=(e,t)=>{for(var n in t)He(e,n,{get:t[n],enumerable:!0})};function z(e){var t=new Map;return function(o){if(t.has(o))return t.get(o);var r=e(o);return t.set(o,r),r}}var Ge=Array.prototype;function Ue(e,t){return typeof e=="function"?e.apply(null,t):e}function _t(e,t,n){n=n||e.length;var o=n===1?t?e:z(e):z(function(r){return _t(function(){var i=[r];return i.push.apply(i,arguments),e.apply(null,i)},t,n-1)});return function r(i){return arguments.length===0?r:arguments.length===1?o(i):arguments.length>=n?e.apply(null,arguments):Ue(o(i),Ge.slice.call(arguments,1))}}var I=_t;function ht(e,t,n){let o;typeof n!="string"&&n.input!==void 0&&n.index!==void 0&&(o=n,n=o.input.slice(n.index+n[0].length+(n.consumed||0)));let r=e.exec(n);if(!r)return;let i=t(r);return o&&(o.consumed=(o.consumed||0)+r.index+r[0].length+(r.consumed||0)),i}var uo=I(ht,!0);function We(e,t,n){throw n.input!==void 0&&n.index!==void 0&&(n=n.input),new Error('Cannot parse string "'+(n.length>128?n.length.slice(0,128)+"…":n)+'"')}function qe(e,t,n){let o=-1;for(;++o<n.length;)t=n[o]!==void 0&&e[o]?e[o](t,n):t;return e.done?e.done(t,n):e.close?e.close(t,n):t}function Ve(e,t,n,o){let r=ht(e,i=>qe(t,n,i),o);return r===void 0?t.catch?t.catch(n,o):We(e,t,o):r}var Jt=I(Ve,!0);function E(e){return e}function y(){}function g(e,t){return function(){let o=e.apply(this,arguments),r=t[o]||t.default;if(!r)throw new Error('overload() no function defined for key "'+o+'"');return r.apply(this,arguments)}}var $e=g(E,{is:y,tag:y,data:function(e,t,n){for(e in n)n[e]===void 0&&delete n[e];Object.assign(t.dataset,n)},dataset:function(e,t,n){for(e in n)n[e]===void 0&&delete n[e];Object.assign(t.dataset,n)},html:function(e,t,n){t.innerHTML=n},text:function(e,t,n){t.textContent=n},style:g((e,t,n)=>typeof n,{string:(e,t,n)=>t.style=n,object:(e,t,n)=>Object.assign(t.style,n)}),children:function(e,t,n){t.innerHTML="",t.append.apply(t,n)},href:function(e,t,n){t instanceof SVGElement?t.setAttribute("href",n):t.href=n},points:P,cx:P,cy:P,r:P,x:P,y:P,dx:P,dy:P,transform:P,preserveAspectRatio:P,viewBox:P,default:function(e,t,n){e in t?t[e]=n:t.setAttribute(e,n)}});function P(e,t,n){t.setAttribute(e,n)}function Ne(e,t){for(var n=Object.keys(t),o=n.length;o--;)$e(n[o],e,t[n[o]]);return e}var K=I(Ne,!0);var mt="http://www.w3.org/2000/svg",Qt=document.createElement("template"),gt=(e,t)=>t&&typeof t;function Zt(e,t=""){let n=document.createRange();return n.selectNode(e),n.createContextualFragment(t)}var S=g(gt,{string:function(e,t){let n=document.createElementNS(mt,e);return n.innerHTML=t,n},object:function(e,t){let n=document.createElementNS(mt,e);return typeof t.length=="number"?n.append.apply(n,t):K(n,t),n},default:e=>document.createElementNS(mt,e)}),Xe=g(gt,{string:function(e,t){let n=document.createElement(e);return n.innerHTML=t,n},object:function(e,t){let n=document.createElement(e);return typeof t.length=="number"?n.append.apply(n,t):K(n,t),n},default:e=>document.createElement(e)}),Ye=g(E,{comment:function(e,t){return document.createComment(t||"")},fragment:g(gt,{string:function(e,t,n){return n?Zt(n,t):(Qt.innerHTML=t,Qt.content.cloneNode(!0))},object:function(e,t,n){let o=n?Zt(n):document.createDocumentFragment();return typeof t.length=="number"?o.append.apply(o,t):K(o,t),o},default:()=>document.createDocumentFragment()}),circle:S,ellipse:S,g:S,glyph:S,image:S,line:S,rect:S,use:S,path:S,pattern:S,polygon:S,polyline:S,svg:S,tspan:S,text:S,default:Xe}),b=Ye;var te=Symbol("internals");function vt(e,t,n){return t[te]=t.attachInternals&&!t.getAttribute("is")?t.attachInternals():{shadowRoot:n}}function L(e){return e[te]}var ee=Object.defineProperties;var wt={},Ke={name:{set:function(e){return this.setAttribute("name",e)},get:function(){return this.getAttribute("name")||""}},form:{get:function(){return L(this).form}},labels:{get:function(){return L(this).labels}},validity:{get:function(){return L(this).validity}},validationMessage:{get:function(){return L(this).validationMessage}},willValidate:{get:function(){return L(this).willValidate}},checkValidity:{value:function(){return L(this).checkValidity()}},reportValidity:{value:function(){return L(this).reportValidity()}}},yt=!1,_e=Jt(/^\s*<?([a-z][\w]*-[\w-]+)>?\s*$|^\s*<?([a-z][\w]*)\s+is[=\s]*["']?([a-z][\w]*-[\w-]+)["']?>?\s*$/,{1:(e,t)=>({name:t[1]}),2:(e,t)=>({name:t[3],tag:t[2]}),catch:function(e,t){throw new SyntaxError(`dom element() – name must be of the form 'element-name' or 'tag is="element-name"' (`+t+")")}},null),ne={once:!0};function Je(e){return e.sheet?Promise.resolve({target:e}):new Promise((t,n)=>{e.addEventListener("load",t,ne),e.addEventListener("error",n,ne)})}function Qe(e){e.stop()}function Ze(e){if(wt[e])return wt[e];let t=document.createElement(e).constructor;if(t===HTMLUnknownElement)throw new Error("Cannot define customised built-in - constructor for <"+e+"> is HTMLUnknownElement");return wt[e]=t}function tn(e,t){if(e.hasOwnProperty(t)){let n=e[t];delete e[t],e[t]=n}return e}function oe(e,t){let n=e.attachShadow({mode:t.mode||"closed",delegatesFocus:t.focusable||!1});if(t.stylesheet){let o=b("link",{rel:"stylesheet",href:t.stylesheet});n.append(o)}return n}function en(e,t){return typeof t=="string"?t[0]==="#"?e.appendChild(document.getElementById(t.slice(1)).content.clone(!0)):e.innerHTML=t:e.appendChild(t.content.clone(!0)),e}function nn(e){let t=e.isUpgraded;return e.isUpgraded=!0,!t}function re(e,t){return Array.from(e.querySelectorAll('[is="'+t+'"]')).filter(nn)}var on=g((e,t)=>typeof t,{object:(e,t)=>t,function:(e,t)=>({value:t}),default:(e,t)=>{throw new TypeError("element() does not accept property descriptor of type "+typeof t)}});function bt(e,t={},n={},o=""){let{name:r,tag:i}=_e(e),c=typeof i=="string"?Ze(i):HTMLElement,p=[],f={},d,v;for(d in n)v=on(d,n[d]),v.attribute&&p.push(d),(v.set||v.get||"value"in v)&&(f[d]=v),n[d]=v;function m(){let u=Reflect.construct(c,arguments,m),a=t.mode||typeof t.shadow=="string"?oe(u,t):void 0;t.shadow&&en(a,t.shadow);let l=vt(m,u,a);return i&&(yt=!0),t.construct&&t.construct.call(u,a,l),Object.keys(f).reduce(tn,u),u}if(m.prototype=Object.create(c.prototype,f),n.value&&(m.formAssociated=!0,ee(m.prototype,Ke),(t.enable||t.disable)&&(m.prototype.formDisabledCallback=function(u){let a=L(this);return u?t.disable&&t.disable.call(this,a.shadowRoot,a):t.enable&&t.enable.call(this,a.shadowRoot,a)}),t.reset&&(m.prototype.formResetCallback=function(){let u=L(this);return t.reset.call(this,u.shadowRoot,u)}),t.restore&&(m.prototype.formStateRestoreCallback=function(){let u=L(this);return t.restore.call(this,u.shadowRoot,u)})),p.length&&(m.observedAttributes=p,m.prototype.attributeChangedCallback=function(u,a,l){return n[u].attribute.call(this,l)}),t.connect&&(m.prototype.connectedCallback=function(){let u=L(this),a=u.shadowRoot;if(u.stopable=t.connect.call(this,a,u),!a)return;let l=a.querySelectorAll('link[rel="stylesheet"]');if(l.length){let w=b("style","*:not(slot), slot:not([name]) { display: none !important; }");a.prepend(w);let F;u.loadPromise?F=u.loadPromise.then(()=>new Promise(requestAnimationFrame)):F=u.loadPromise=Promise.all(Array.from(l,Je)),F.finally(()=>{w.remove(),t.load&&t.load.call(this,a,u)})}else t.load&&t.load.call(this,a,u)}),m.prototype.disconnectedCallback=function(){let u=L(this);u.stopable&&(u.stopable.stop?u.stopable.stop():u.stopable.forEach(Qe)),t.disconnect&&t.disconnect.call(this,u.shadowRoot,u)},window.console&&window.console.log("%c<"+(i?i+" is="+r:r)+">%c "+o,"color:#3a8ab0;font-weight:600;","color:#888888;font-weight:400;"),window.customElements.define(r,m,i&&{extends:i}),i&&!yt){let u=document.createElement("div");if(u.style.position="fixed",u.style.left="-1000px",u.style.top="-1000px",u.innerHTML="<"+i+' is="'+r+'"></'+i+">",document.body.append(u),u.remove(),yt)m.polyfillByRoot=y;else{let a=function(w){let F={};Object.keys(f).forEach(C=>{w[C]!==void 0&&(F[C]=w[C])}),ee(w,f);let Y=t.mode||t.shadow?oe(w,t):void 0,Kt=vt(m,w,Y);t.construct&&t.construct.call(w,Y,Kt),Object.assign(w,F);let De=-1,dt;for(;dt=p[++De];){let C=w.attributes[dt];C&&n[dt].attribute.call(w,C.value)}t.connect&&t.connect.call(w,Y,Kt)},l=function(w){re(w,r).forEach(a),new MutationObserver(()=>re(w,r).forEach(a)).observe(w,{childList:!0,subtree:!0})};m.polyfillByRoot=l,l(document)}}else m.polyfillByRoot=y;return m}function ie(e,t){if(e===t)return!0;if(e===null||t===null||typeof e!="object"||typeof t!="object")return!1;let n=Object.keys(e),o=Object.keys(t),r=n.length;for(;r--;){if(e[n[r]]===void 0){if(t[n[r]]!==void 0)return!1}else if(!t.hasOwnProperty(n[r])||!ie(e[n[r]],t[n[r]]))return!1;let i=o.indexOf(n[r]);i>-1&&o.splice(i,1)}for(r=o.length;r--;)if(t[o[r]]===void 0){if(e[o[r]]!==void 0)return!1}else return!1;return!0}var se=I(ie,!0);function rn(e,t){return t[e]}var D=I(rn,!0);function xt(e){return function(){return arguments[e]}}function T(){return this}var ce=Object.create,sn=Object.freeze,Et=sn(ce(ce(Object.prototype,{at:{value:y},shift:{value:y},push:{value:y},forEach:{value:y},join:{value:function(){return""}},every:{value:function(){return!0}},filter:{value:T},find:{value:y},findIndex:{value:function(){return-1}},flat:{value:T},flatMap:{value:T},includes:{value:function(){return!1}},indexOf:{value:function(){return-1}},map:{value:T},reduce:{value:xt(1)},sort:{value:T},each:{value:T},pipe:{value:E},start:{value:T},stop:{value:T},done:{value:T},valueOf:{value:function(){return null}}}),{length:{value:0}}));var H=e=>typeof e;var cn=Object.defineProperties,le=g(H,{function:e=>e(),object:e=>e.stop()}),A=class extends E{#t;stop(){if(this.status==="done")return this;this.status="done";let t=this.#t;return this.#t=void 0,t&&t.forEach(le),this}done(t){return this.status==="done"?(le(listener),this):((this.#t||(this.#t=[])).push(t),this)}};cn(A.prototype,{status:{writable:!0}});function ln(e){throw new TypeError("Stream cannot be created .from() "+typeof e)}function k(e,t){if(t===void 0)return;let n=-1;for(;e[++n];)e[n].push(t);return e}function an(e){A.prototype.stop.apply(e);let t=-1,n;for(;n=e[++t];)e[t]=void 0,n.stop&&(Ft(n,e),n[-1]||n.stop());return e}function Ft(e,t){let n=0;for(;e[--n]&&e[n]!==t;);for(;e[n--];)e[n+1]=e[n]}function ae(e,t){let n=-1;for(;e[++n]&&e[n]!==t;);for(;e[n++];)e[n-1]=e[n]}function un(e,t){Ft(t,e),ae(e,t)}var q=class extends A{stop(){if(this.status==="done")return this;let t;for(;t=this[-1];){let n=-1;for(;this[n--];)this[n+1]=this[n];ae(t,this),t.stop&&!t[0]&&t.stop(t)}return super.stop()}},_=class extends q{constructor(t){super(),this.push=t}},J=class extends q{constructor(t,n){super(),this.fn=t,this.value=n,this.i=0}push(t){let n=this.fn;this.value=n(this.value,t,this.i++,this)}},s=class extends q{start(){if(this.status)return this;let t=0,n;t:for(;n=this[--t];){let o=-1;for(;n[++o];)if(n[o]===this)continue t;n[o]=this,o===0&&n.start&&n.start()}return this}stop(){if(this.status==="done")return this;super.stop();let t=-1,n;for(;n=this[++t];)this[t]=void 0,n.stop&&(Ft(n,this),n[-1]||n.stop());return this}pipe(t){if(t.stop){let o=0;for(;t[--o]&&t[o]!==this;);t[o]=this}if(t.start&&!(t[0]||t.status==="running"))return t;let n=-1;for(;this[++n]&&this[n]!==t;);return this[n]=t,n||this.start(),t}each(t){return this.pipe(new _(t))}buffer(...t){return this.pipe(new G(t))}filter(t){return this.pipe(new kt(t))}flatMap(t){return this.pipe(new Lt(t))}map(t){return this.pipe(new Z(t))}reduce(t,n){return this.pipe(new J(t,n)).start().value}scan(t,n){return this.pipe(new It(t,n))}slice(t,n){return this.pipe(new Pt(t,n))}split(t){return this.pipe(new Ot(t))}[Symbol.asyncIterator]=async function*(){let t=[],n=r=>t.push(r);function o(r,i){n=r}for(this.each(r=>n(r)).done(()=>n=y);n!==y;)yield t.length?t.shift():await new Promise(o)};static from=g(H,{function:t=>new Z(t),object:t=>typeof t.pipe=="function"?t:typeof t.then=="function"?new St(t):typeof t.length=="number"?new G(Array.from(t)):ln(t)});static of(...t){return t.length<2?new Q(t[0]):new G(t)}static buffer(t){return new G(t)}static value(t){return new Q(t)}static merge(...t){return new Tt(t)}static push=k;static stop=an;static unpipe=un;static each(t){return new _(t)}static reduce(t,n){return new J(t,n)}},St=class extends s{constructor(t){super(),this.promise=t}start(){return this.promise.then(t=>k(this,t)).finally(()=>this.stop()),this}},Q=class extends s{constructor(t){super(),this.value=t}start(){return this.value!==void 0&&(k(this,this.value),this.status==="done")?this:super.start()}push(t){return this.value=t,k(this,t)}},G=class extends s{constructor(t){super(),this.values=t||[]}start(){let t=this.values;if(!t)return super.start();let n=-1;for(;n++<t.length;)if(k(this,t[n]),this.status==="done")return this;return this.values=void 0,super.start()}push(t){return this.value=t,this.values?this.values.push(this.value):k(this,this.value)}},kt=class extends s{constructor(t){super(),this.fn=t}push(t){let n=this.fn;return n(t)&&k(this,t)}},Lt=class extends s{constructor(t){super(),this.fn=t}push(t){let n=this.fn,o=n(t);if(o!==void 0)if(isIterable(o))for(let r of o)k(this,r);else o.pipe?(console.warn("FlatMapping pipeables is dodgy. Map to arrays for the moment please."),this.done(o.each(r=>k(this,r)))):o.then&&o.then(r=>k(this,r))}},Z=class extends s{constructor(t){super(),this.fn=t}push(t){let n=this.fn,o=n(t);return o!==void 0&&k(this,o)}},Tt=class extends s{constructor(t){super(),this.inputs=t}push(t){return k(this,t)}pipe(t){let n=-1,o;for(;o=this.inputs[++n];)s.from(o).pipe(this);return s.prototype.pipe.call(this,t)}},It=class extends s{constructor(t,n){super(),this.fn=t,this.value=n}push(t){let n=this.fn;this.value=n(this.value,t),k(this,this.value)}},Pt=class extends s{constructor(t,n=1/0){super(),this.index=-t,this.indexEnd=n-t}push(t){++this.index>0&&k(this,t),this.index===this.indexEnd&&this.stop()}},Ot=class extends s{constructor(t){super(),this.chunk=[],typeof t=="number"?this.n=t:this.fn=t}fn(){return this.chunk.length===this.n}push(t){let n=this.chunk;this.fn(t)?(k(this,n),this.chunk=[]):n.push(t)}};var ue=Object.assign,pn=Object.create;function tt(e,t){this.object=e,this.mutable=t&&(t===!0||t.mutable),this.active=!1}tt.prototype=ue(pn(s.prototype),{start:function(){let e=this.object,t=this.mutable?e:{},n={};for(let o in e){let r=e[o];if(!(!r||typeof r!="object")){if(!r.pipe)if(r.then)r=s.from(r);else continue;n[o]=r}}for(let o in n){let r=n[o];r.each(i=>{t[o]=i,r.active=!0,!(!this.active&&Object.values(n).find(c=>!c.active))&&(this.active=!0,s.push(this,this.mutable?e:ue(new e.constructor,e,t)))})}return this}});var fn=Object.assign,dn=Object.create;function U(e){this.duration=e,this.timer=void 0,this.status="idle"}U.prototype=fn(dn(s.prototype),{start:function(e){if(this.status!=="idle")return this;if(this.status="waiting",this.duration==="frame"){let t=n=>{this.timer=requestAnimationFrame(t),s.push(this,n/1e3)};this.timer=requestAnimationFrame(t)}else{let t=performance.now()/1e3;this.timer=setTimeout(()=>{let n=performance.now()/1e3,o=()=>s.push(this,performance.now()/1e3);this.status="playing",s.push(this,n),this.timer=setInterval(o,this.duration*1e3)},t>e?e-t:0)}return this},stop:function(e){return this.status==="done"?this:(this.duration==="frame"?cancelAnimationFrame(this.timer):this.status==="waiting"?clearTimeout(this.timer):clearInterval(this.timer),this.timer=void 0,s.stop(this))}});var hn=Object.assign,mn=Object.create;function V(e){this.duration=e}V.prototype=hn(mn(s.prototype),{push:function(e){if(e===void 0)return;if(this.clock){this.value=e;return}let t=new U(this.duration),n=o=>{if(this.value===void 0){t.stop(),this.clock=void 0;return}this[0].push(this.value),this.value=void 0};this.value=e,this.clock=t.each(n).start()},stop:function(e){return this.clock&&(this.clock.stop(),this.clock=void 0),e&&(this[0].push(value),this.value=void 0),s.prototype.stop.apply(this,arguments),this}});var wr=Array.prototype,pe=Object.assign;pe(s,{isStream:function(e){return s.prototype.isPrototypeOf(e)},combine:(e,t)=>new tt(e,t),clock:e=>new U(e),throttle:function(e){return new V(null,e)}});pe(s.prototype,{throttle:function(e){return new V(this,e)},log:T});var gn=/\s+/,et={fullscreenchange:z(()=>"fullscreenElement"in document?"fullscreenchange":"webkitFullscreenElement"in document?"webkitfullscreenchange":"mozFullScreenElement"in document?"mozfullscreenchange":"msFullscreenElement"in document?"MSFullscreenChange":"fullscreenchange")},fe=0;window.addEventListener("click",e=>fe=e.timeStamp);function vn(e,t){return e.node.addEventListener(et[t]?et[t]():t,e,e.options),e}function wn(e,t){return e.node.removeEventListener(et[t]?et[t]():t,e),e}var Ct=class extends s{constructor(t,n,o,r){super(),this.types=t.split(gn),this.options=n,this.node=o,this.select=n&&n.select,this.modifiers=n&&n.modifiers,this.initialEvent=r}handleEvent(t){if(!(t.type==="click"&&t.timeStamp<=fe)){if(this.modifiers){let n=typeof this.modifiers=="string"?this.modifiers.split(/\s+/):this.modifiers,o=n.length;for(;o--;)if(!t[n[o]+"Key"])return}if(this.select){let n=t.target.closest(this.select);if(!n)return;t.selectedTarget=n}s.push(this,t)}}start(){return this.types.reduce(vn,this),this.initialEvent&&(this.handleEvent(this.initialEvent),delete this.initialEvent),this}stop(){return this.types.reduce(wn,this),super.stop()}};function x(e,t,n){let o;return typeof e=="object"&&(o=e,e=o.type),new Ct(e,o,t,n)}var yn=/^\s*([+-]?\d*\.?\d+)([^\s]*)\s*$/;function j(e){return function(n){if(typeof n=="number")return n;var o=yn.exec(n);if(!o||!e[o[2]||""]){if(!e.catch)throw new Error('Cannot parse value "'+n+'" (accepted units '+Object.keys(e).join(", ")+")");return o?e.catch(parseFloat(o[1]),o[2]):e.catch(parseFloat(n))}return e[o[2]||""](parseFloat(o[1]))}}var de=e=>e*Math.PI/180;var he=j({deg:de,rad:E,turn:e=>e*2*Math.PI,catch:function(e){throw new Error('Cannot parse value "'+e+'"')}});var bn=/px$/,xn=/deg$|turn$|rad$/;function En(e,t){return window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue(e):0}function nt(e,t){var n=En(e,t);return typeof n=="string"?bn.test(n)?parseFloat(n):xn.test(n)?he(n):n:n}var ot,rt;function Sn(){if(!ot){let e=document.documentElement.style.fontSize;document.documentElement.style.fontSize="100%",ot=nt("font-size",document.documentElement),document.documentElement.style.fontSize=e||""}return ot}function kn(){return rt||(rt=nt("font-size",document.documentElement)),rt}window.addEventListener("resize",()=>{ot=void 0,rt=void 0});var M=g(H,{number:E,string:j({px:E,em:e=>Sn()*e,rem:e=>kn()*e,vw:e=>window.innerWidth*e/100,vh:e=>window.innerHeight*e/100,vmin:e=>window.innerWidth<window.innerHeight?window.innerWidth*e/100:window.innerHeight*e/100,vmax:e=>window.innerWidth<window.innerHeight?window.innerHeight*e/100:window.innerWidth*e/100})}),me=M;var qr=Array.prototype,ge=Object.assign,At="webkitUserSelect"in document.body.style?"webkitUserSelect":"userSelect",st={},it={threshold:4,ignoreTags:{textarea:!0,input:!0,select:!0}},ve=-1/0;function Ln(e){e.timeStamp-ve>60||(e.stopPropagation(),e.preventDefault())}function Tn(e,t,n){return t*t+n*n>=e*e}var ct=class extends s{constructor(t,n,o,r){if(super(),this.stream=t,this.target=n,this.buffer=[o],this.options=r,this.pointerId=o.pointerId,typeof r.threshold=="function")this.checkThreshold=r.threshold;else{let i=me(r.threshold);this.checkThreshold=(c,p,f)=>Tn(i,c,p,f)}document.addEventListener("pointermove",this),document.addEventListener("pointerup",this),document.addEventListener("pointercancel",this)}createGesture(){this.isGesture=!0,this.userSelectState=document.body.style[At],document.body.style[At]="none",st[this.pointerId]=this,this.target.setPointerCapture(this.pointerId),s.push(this.stream,this)}start(){for(;this.buffer.length;)s.push(this,this.buffer.shift());this.buffer=void 0}stop(){return document.removeEventListener("pointermove",this),document.removeEventListener("pointerup",this),document.removeEventListener("pointercancel",this),this.isGesture&&(document.body.style[At]=this.userSelectState,delete st[this.pointerId]),s.stop(this)}};ge(ct.prototype,{handleEvent:g(D("type"),{pointermove:function(e){if(this.pointerId===e.pointerId){if(this.pointerId in st&&this!==st[this.pointerId])return this.stop();if(this.buffer?this.buffer.push(e):s.push(this,e),!this.isGesture){let t=this.buffer[0],n=e.clientX-t.clientX,o=e.clientY-t.clientY,r=(e.timeStamp-t.timeStamp)/1e3;this.checkThreshold(n,o,r)&&this.createGesture()}}},pointerup:function(e){this.pointerId===e.pointerId&&(this.buffer?this.buffer.push(e):s.push(this,e),this.target.releasePointerCapture(this.pointerId),this.stop(),this.isGesture&&(ve=e.timeStamp,document.addEventListener("click",Ln,{capture:!0,once:!0})))},default:function(e){this.pointerId===e.pointerId&&(this.buffer.push(e),this.target.releasePointerCapture(this.pointerId),this.stop())}})});function In(e){var t=e.target.tagName;return t&&(!!it.ignoreTags[t.toLowerCase()]||e.target.draggable)}var jt=class extends s{constructor(t,n){super(),this.node=t,this.options=n}handleEvent(t){if(t.button!==0||this.options.device&&!this.options.device.includes(t.pointerType)||In(t))return;let n=t.target;if(!(this.options.select&&(n=t.target.closest(this.options.select),!n))){var o={type:t.type,target:t.target,currentTarget:t.currentTarget,clientX:t.clientX,clientY:t.clientY,timeStamp:t.timeStamp,pointerId:t.pointerId};new ct(this,n,o,this.options)}}start(){return this.node.addEventListener("pointerdown",this),this}stop(){return this.node.removeEventListener("pointerdown",this),s.stop(this)}};function Mt(e,t){return e=t&&e?ge({},it,e):it,t=t||e,new jt(t,e)}function Bt(e){return e.which===1&&!e.ctrlKey&&!e.altKey&&!e.shiftKey}function Pn(){return{x:0,y:0,left:0,top:0,right:window.innerWidth,bottom:window.innerHeight,width:window.innerWidth,height:window.innerHeight}}function O(e){return e===window?Pn():e.getClientRects()[0]||e.getBoundingClientRect()}var On=Object.assign,$={bubbles:!0,cancelable:!0};function Rt(e,t){let n=$,o,r,i,c,p,f;return typeof e=="object"?({type:e,detail:r,bubbles:i,cancelable:c,composed:p,...o}=e,f=On(new CustomEvent(e,{detail:r,bubbles:i||$.bubbles,cancelable:c||$.cancelable,composed:p||$.composed}),o)):f=new CustomEvent(e,$),t.dispatchEvent(f)}var Yr=I(Rt,!0);var h=Symbol("data"),N={minScrollInterval:.0375,maxScrollInterval:.18},we=N.maxScrollInterval;function ye(e){let t=e.length,n=0;for(;--t;){let o=e[t]-e[t-1];n=o>n?o:n}n=n<N.minScrollInterval?N.minScrollInterval:n,we=1.4*n>N.maxScrollInterval?N.maxScrollInterval:1.4*n}function lt(){return we}var zt="MozAppearance"in document.documentElement.style;var be=!1;zt&&document.addEventListener("DOMContentLoaded",e=>be=!0);function xe(e){let t=O(e),n=window.getComputedStyle(e,null),o,r;try{o=M(n.getPropertyValue("padding-left")),r=M(n.getPropertyValue("padding-right"))}catch(i){console.warn(i.message),o=0,r=0}return t.leftPadding=t.left+o,t.rightPadding=t.left+t.width-r,t.centrePadding=t.leftPadding+(t.width-o-r)/2,t}function Ee(e){let t=window.getComputedStyle(e,null).getPropertyValue("scroll-snap-align");return t.endsWith("start")?"left":t.endsWith("end")?"right":"centre"}function Se(e,t,n){let o=xe(e),r=O(t),i=Ee(t),c={top:e.scrollTop,left:e.scrollLeft+(i==="left"?r.left-o.leftPadding:i==="right"?r.right-o.rightPadding:r.left+r.width/2-o.centrePadding),behavior:n};e.scrollTo(c),zt&&!be&&document.addEventListener("DOMContentLoaded",()=>e.scrollTo(c))}function ke(e,t){return Se(e,t,"smooth"),t}function B(e,t){return e.style.setProperty("scroll-behavior","auto","important"),Se(e,t,"auto"),e.style.setProperty("scroll-behavior",""),t}function Le(e,t){let{leftPadding:n,rightPadding:o,centrePadding:r}=xe(e),i=t.length,c;for(;c=t[--i];){let p=O(c);if(!p)continue;let f=Ee(c),d=p.width/2+(f==="left"?n:f==="right"?o:r);if((f==="left"?p.left:f==="right"?p.right:p.left+p.width/2)<=d)break}return c}function Te(e){return!!e.dataset.slideIndex}function Ie(e){let{slides:t,elements:n,children:o}=e,r=Le(t,n);return Te(r)?o[r.dataset.slideIndex]:r}function Pe(e){let{slides:t,children:n,elements:o}=e,r=Le(t,o),i;r&&(Te(r)?(i=n[r.dataset.slideIndex],B(t,i)):i=r,e.activations.push(i))}function at(e,t,n){let o=t[n];o&&(e.active=o)}function Oe(e,t,n){let o=t.indexOf(n)+1;at(e,t,o)}function Fe(e,t,n){let o=t.indexOf(n)-1;at(e,t,o)}function Fn(e,t){e.style.setProperty("scroll-snap-type",""),t.stop()}var Ce=g((e,t)=>t.type,{pointerdown:function(e,t){return e.e0=t,e.x0=t.clientX,e.y0=t.clientY,e},pointermove:function(e,t){let n=t.clientX,o=t.clientY;if(!e.gesturing){if(Math.abs(n-e.x0)<Math.abs(o-e.y0)){e.pointers.stop(),e.pointers=void 0,e.e0=void 0,e.x0=void 0,e.y0=void 0;return}e.scrollLeft0=e.slides.scrollLeft,e.slides.style.setProperty("scroll-snap-type","none","important"),e.slides.style.setProperty("scroll-behavior","auto","important"),e.gesturing=!0}let r=t.clientX-e.x0;return e.slides.scrollLeft=e.scrollLeft0-r,e},default:function(e,t){let n=e.slides;e.clickSuppressTime=t.timeStamp;let o=n.scrollLeft;n.style.setProperty("scroll-snap-type","");let r=n.scrollLeft;if(o===r)n.style.setProperty("scroll-behavior","");else{let i=Ie(e);e.activations.push(i),n.style.setProperty("scroll-snap-type","none","important"),n.scrollLeft=o,n.style.setProperty("scroll-behavior",""),n.scrollTo({top:n.scrollTop,left:r,behavior:"smooth"}),x({type:"scroll",passive:!0},n).reduce((c,p,f,d)=>(clearTimeout(c),setTimeout(Fn,lt()*1e3,n,d)))}return e.gesturing=!1,e.e0=void 0,e.x0=void 0,e.y0=void 0,e.pointers=void 0,e.scrollLeft0=void 0,e}});var Cn={capture:!0,passive:!0};function An(e,t){e.timer=void 0,s.push(e,t);let n=e.times;n.length>1&&ye(n),n.length=0}var Dt=class extends s{constructor(t){super(),this.element=t,this.times=[]}start(){return this.element.addEventListener("scroll",this,Cn),this}handleEvent(t){let n=t.timeStamp/1e3;this.times.push(n),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(An,lt()*1e3,this,t)}stop(){return this.element.removeEventListener("scroll",this),s.stop(this)}};function Ht(e){return new Dt(e)}function jn(e,t,n){let o=n.length,r=-1/0;for(;o--;){let d=O(n[o]),v=d.x+d.width;r=v>r?v:r}let i=O(t),c=getComputedStyle(e),p=M(c.paddingLeft||0),f=M(c.paddingRight||0);return p+f+r-i.x}function Mn(e,t,n){let o=jn(e,t,n);e.style.setProperty("--scroll-width",o+"px")}function Bn(e){return!e.dataset.slideIndex}var Gt={mode:"open",construct:function(e){let t=b("slot"),n=b("div",{part:"slides",children:[t]}),o=b("nav",{part:"controls",children:[b("slot",{name:"controls"})]});e.append(n,o);let r=s.of(),i=s.of(),c=s.combine({host:i,elements:x("slotchange",t).map(l=>a.elements=t.assignedElements())}),p=c.map(l=>{let w=l.elements.filter(Bn);return se(a.children,w)?void 0:a.children=w});p.pipe({push:y});let f=s.of(),d=s.of(),v=d.map(l=>l.dataset.slideIndex?a.children[l.dataset.slideIndex]:l).filter(l=>a.active!==l&&Rt("slide-active",l)).map(l=>a.active=l);v.pipe({push:y});let m=x("click",e).filter(Bt),u=Ht(n).filter(l=>a.connected&&!a.gesturing),a=this[h]={clickSuppressTime:-1/0,connected:!1,host:this,style:window.getComputedStyle(this),elements:Et,children:Et,device:void 0,shadow:e,slides:n,slot:t,controls:o,connects:r,load:i,views:f,activations:d,actives:v,slotchanges:c,mutations:p,clicks:m,scrolls:u};s.merge(c,x("resize",window)).filter(l=>t.offsetWidth&&t.offsetHeight).each(l=>Mn(n,t,a.elements)),s.combine({slotchanges:c,connects:r}).map(l=>a.elements.includes(a.active)?a.active:a.children[0]).map(l=>a.connected?B(n,l):l).pipe(d),s.combine({host:i,child:f}).map(l=>a.elements.includes(l.child)&&a.active!==l.child?l.child:void 0).map(l=>a.connected?a.active?ke(n,l):B(n,l):l).pipe(d),u.each(l=>Pe(a)),Mt({threshold:"0.25rem",device:"mouse"},e).filter(()=>a.children.length>1).each(l=>{a.pointers=l,l.reduce(Ce,a)}),m.each(l=>{l.timeStamp-a.clickSuppressTime<120&&(l.preventDefault(),l.stopPropagation())}),x("fullscreenchange",window).filter(l=>a.active&&t.offsetWidth&&t.offsetHeight).each(l=>{(l.target===this||l.target.contains(this))&&B(n,a.active)}),s.merge(x("pointerdown",this),x("keydown",this)).each(l=>a.device=l.type==="keydown"?"keyboard":l.pointerType),x("focusin",this).filter(l=>a.device==="keyboard").map(l=>a.children.indexOf(l.target)!==-1?l.target:a.children.find(w=>w.contains(l.target))).pipe(f),x("keydown",this).filter(()=>document.activeElement===this||this.contains(document.activeElement)).map(g(D("keyCode"),{37:l=>(l.preventDefault(),a.elements[a.elements.indexOf(a.active)-1]),39:l=>(l.preventDefault(),a.elements[a.elements.indexOf(a.active)+1]),default:y})).pipe(f)},load:function(e){this[h].load.push(this)},connect:function(e){let t=this[h];t.connected=!0,t.connects.push(!0)},disconnect:function(e){let t=this[h];t.connected=!1}};function ut(e){function t(n,o){if(e.getState(n)!==o)return e[o?"enable":"disable"](n)}return{attribute:function(n){return t(this,n!==null)},set:function(n){return t(this,!!n)},get:function(){return e.getState(this)},enumerable:!0}}function Ut(e,t){e.remove&&e.remove(t);let n;for(;(n=e.indexOf(t))!==-1;)e.splice(n,1);return e}var Rn=Object.assign;function X(e,t){this.element=e,this.definitions=t,this.tokens=[]}Rn(X.prototype,{contains:function(e){return this.tokens.includes(e)},add:function(){let e=arguments.length;for(;e--;){let t=arguments[e];this.tokens.includes(t)||(this.tokens.push(t),this.supports(t)&&this.definitions[t].enable(this.element))}},remove:function(){let e=arguments.length;for(;e--;){let t=arguments[e];this.tokens.includes(t)&&(Ut(this.tokens,t),this.supports(t)&&this.definitions[t].disable(this.element))}},supports:function(e){return!!this.definitions&&!!this.definitions[e]}});var zn=Array.prototype;function Wt(e,t){let n=e.tokens.slice(),o=zn.slice.apply(t),r=n.length;for(;r--;)o.includes(n[r])&&n.splice(r,1);e.remove.apply(e,n),e.add.apply(e,o)}function qt(e){let t=Symbol("TokenList");function n(o,r){let i=o[t]||(o[t]=new X(o,e));Wt(i,r.trim().split(/\s+/))}return{attribute:function(o){n(this,o||"")},set:function(o){n(this,o+"")},get:function(){return this[t]||(this[t]=new X(this,e))},enumerable:!0}}var Vt={};W(Vt,{disable:()=>Wn,enable:()=>Un,getState:()=>qn});var Dn=j({s:E,ms:e=>e/1e3});function Hn(e){let{active:t,children:n,elements:o,host:r}=e,i=o.indexOf(t),c=o[i+1]||n[0];e.autoplay.timer=null,c&&(r.active=c)}function Gn(e){let{active:t,style:n}=e,o=Dn(window.getComputedStyle(t).getPropertyValue("--slide-duration")||n.getPropertyValue("--slide-duration"));clearTimeout(e.autoplay.timer),e.autoplay.timer=setTimeout(Hn,o*1e3,e)}function Ae(e){clearTimeout(e.autoplay.timer),e.autoplay.timer=null}function Un(e){let t=e[h],{actives:n}=t,o=t.autoplay={},r=s.merge([!1],x("pointerenter pointerleave",e).map(c=>c.type==="pointerenter")),i=s.merge([e.contains(document.activeElement)],x("focusin focusout",e).map(g(D("type"),{focusin:c=>!0,focusout:c=>e.contains(c.relatedTarget)}))).map((c=>p=>c===p?void 0:c=p)());o.updates=s.combine({active:n,hover:r,focus:i}).each(c=>c.hover||c.focus?Ae(t):Gn(t))}function Wn(e){let t=e[h];Ae(t),t.autoplay.updates.stop(),t.autoplay=void 0}function qn(e){return!!e[h].autoplay}var $t={};W($t,{disable:()=>Nn,enable:()=>$n,getState:()=>Xn});function je(e,t){let n=e.cloneNode(!0);return n.dataset.slideIndex=t,n.removeAttribute("id"),n.setAttribute("aria-hidden","true"),n.tabIndex="-1",n}function Vn(e){let{active:t,children:n,host:o,slides:r}=e;if(e.loop.prepends&&(e.loop.prepends.forEach(u=>u.remove()),e.loop.appends.forEach(u=>u.remove()),e.loop.prepends=void 0,e.loop.appends=void 0),n.length<2){e.elements=e.slot.assignedElements();return}let i=o.clientWidth,c=n.map(O),p=c[1].left,f=c[c.length-2].right,d=1;for(;c[++d]&&c[d].left<p+i;);let v=n.slice(0,d).map(je);for(d=c.length-2;c[--d]&&c[d].right>f-i;);let m=n.slice(++d).map((u,a)=>je(u,d+a));o.prepend.apply(o,m),o.append.apply(o,v),e.loop.prepends=m,e.loop.appends=v,e.elements=e.slot.assignedElements(),B(r,t||n[0])}function $n(e){let t=e[h],{mutations:n}=t,o=t.loop={};o.renders=n.each(r=>Vn(t))}function Nn(e){let t=e[h];t.loop&&(t.loop.prepends&&t.loop.prepends.forEach(n=>n.remove()),t.loop.appends&&t.loop.appends.forEach(n=>n.remove()),t.loop.renders.stop(),t.loop=void 0)}function Xn(e){return!!e[h].loop}var Nt={};W(Nt,{disable:()=>_n,enable:()=>Kn,getState:()=>Jn});function R(e){if(typeof e!="object"||arguments.length>1)throw new Error("delegate() now takes an object of selector:fn pairs.");return function(n){let o=n.target,r;for(r in e){let i=o.closest(r);if(i)return e[r](i,...arguments)}}}function Yn(e,t,n,o,r){r===0||e.scrollLeft===0?t.disabled=!0:t.disabled=!1,r===o.length-1||e.scrollLeft>=e.scrollWidth-e.clientWidth?n.disabled=!0:n.disabled=!1}function Kn(e){let t=e[h],{actives:n,clicks:o,slotchanges:r,slides:i,scrolls:c}=t,p=t.navigation={prev:b("button",{part:"previous",type:"button",name:"navigation",value:"-1",children:[b("slot",{name:"previous",html:`
                    <svg viewBox="0 0 30 40" aria-hidden="true">
                        <path d="M19,9 L9,20 L19,31"></path>
                    </svg>
                    Previous
                `})]}),next:b("button",{part:"next",type:"button",name:"navigation",value:"1",children:[b("slot",{name:"next",html:`
                    <svg viewBox="0 0 30 40" aria-hidden="true">
                        <path d="M11,9 L21,20 L11,31"></path>
                    </svg>
                    Next
                `})]})};t.controls.prepend(p.prev,p.next),p.updates=s.combine({active:n,changes:r,scroll:c}).each(f=>Yn(i,p.prev,p.next,f.changes.elements,f.changes.elements.indexOf(f.active))),p.clicks=o.each(R({'[slot="previous"]':(f,d)=>Fe(e,t.elements,t.active),'[slot="next"]':(f,d)=>Oe(e,t.elements,t.active),'[name="navigation"]':(f,d)=>{let v=t.elements.indexOf(t.active)+parseFloat(f.value);at(e,t.elements,v)}}))}function _n(e){let t=e[h];t.navigation.prev.remove(),t.navigation.next.remove(),t.navigation.updates.stop(),t.navigation.clicks.stop(),t.navigation=void 0}function Jn(e){return!!e[h].navigation}var Xt={};W(Xt,{disable:()=>to,enable:()=>Zn,getState:()=>eo});function Me(e,t,n){let{active:o,buttons:r,index:i}=e;if(o===n)return;i>-1&&(e.activeSpan.remove(),r.children[i].part.remove("page-button-active"));let c=t.indexOf(n);c!==-1&&(r.children[c].part.add("page-button-active"),r.children[c].append(e.activeSpan),e.index=c,e.active=n)}function Qn(e,t,n,o){return t.buttons&&(t.buttons.remove(),t.buttons=void 0),o.length<2||(t.buttons=b("div",{part:"pagination",children:o.map((r,i)=>b("button",{part:"page-button",type:"button",name:"pagination",value:i}))}),e.append(t.buttons)),o.length}function Zn(e){let t=e[h],{shadow:n,actives:o,clicks:r,mutations:i}=t,c=t.pagination={activeSpan:b("span",{class:"invisible",text:"(Current slide)"})};c.mutations=i.each(()=>Qn(t.controls,c,n,t.children)),c.updates=s.combine({active:o,children:i}).filter(p=>p.children.length>1).each(p=>Me(c,t.children,t.active)),c.clicks=r.each(R({'[name="pagination"]':function(p,f){let{host:d}=t,v=t.children,m=v[p.value];m&&(d.active=m,Me(c,v,m))}}))}function to(e){let t=e[h];t.pagination.buttons.remove(),t.pagination.mutations.stop(),t.pagination.updates.stop(),t.pagination.clicks.stop(),t.pagination=void 0}function eo(e){return!!e[h].pagination}var Yt={};W(Yt,{disable:()=>oo,enable:()=>no,getState:()=>ro});var Be=document.fullscreenEnabled||document.mozFullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled;function pt(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}function Re(e){return e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():void 0}function ft(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}function no(e){let t=e[h];if(!Be)return;let n=t.fullscreen={button:b("button",{part:"fullscreen-button",type:"button",name:"fullscreen",children:[b("slot",{name:"fullscreen-button",html:`
                    <svg viewBox="0 0 40 40" aria-hidden="true">
                        <path class="fullscreen-hidden" d="M9,9 L17,17 M9,15 L9,9 L15,9 M9,31 L17,23 M9,25 L9,31 L15,31 M31,31 L23,23 M25,31 L31,31 L31,25 M31,9 L23,17 M25,9 L31,9 L31,15"></path>
                        <path class="fullscreen-shown"  d="M9,9 L31,31 M9,31 L31,9"></path>
                    </svg>
                    <span class="fullscreen-hidden">Open in fullscreen</span>
                    <span class="fullscreen-shown">Close fullscreen</span>
                `})]})};t.controls.append(n.button),n.changes=x("fullscreenchange",e).filter(o=>pt()===e).each(o=>{document.activeElement!==e&&(n.tabIndex=e.tabIndex,e.tabIndex<0&&(e.tabIndex=0),e.focus());let r=x("fullscreenchange",e).each(i=>{e.tabIndex=n.tabIndex,n.tabIndex=void 0,r.stop()})}),n.clicks=t.clicks.each(R({'[slot="fullscreen-button"], [name="fullscreen"]':(o,r)=>{let i=pt();if(i===e){ft();return}i&&ft(),Re(e)}}))}function oo(e){let t=e[h];pt()===e&&ft(),t.fullscreen.button.remove(),t.fullscreen.clicks.stop(),t.fullscreen.changes.stop(),t.fullscreen=void 0}function ro(e){return!!e[h].fullscreen}var ze={active:{attribute:function(e){this.active=e},set:function(e){let t=this[h],n=typeof e=="object"?e:/^\d/.test(e+"")?this.querySelector("#\\3"+(e+"")[0]+" "+(e+"").slice(1)):/^\#/.test(e+"")?this.querySelector(e):this.querySelector("#"+e);t.views.push(n)},get:function(){return this[h].active}},activateNext:{value:function(){let{elements:e,views:t,active:n}=this[h];return t.push(e[e.indexOf(n)+1]),this}},activatePrevious:{value:function(){let{elements:e,views:t,active:n}=this[h];return t.push(e[e.indexOf(n)-1]),this}},autoplay:ut(Vt,"autoplay"),controls:qt({navigation:Nt,pagination:Xt,fullscreen:Yt}),loop:ut($t,"loop")};Gt.shadow=`<link rel="stylesheet" href="${window.slideshowStylesheet||new URL("shadow.css",import.meta.url)}"/>`;var ms=bt("slide-show",Gt,ze,"stephen.band/slide-show/");export{ms as default};
//# sourceMappingURL=element.js.map
